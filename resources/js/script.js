gsap.registerPlugin(ScrollToPlugin);const pinNav=e=>{const t=document.querySelector(".js--section-features");new ScrollMagic.Scene({offset:-60,triggerElement:t,triggerHook:0}).setClassToggle("nav","sticky").addTo(e)},scrollToSection=e=>t=>{const n=t.target.getAttribute("href");let a="";a="#js"===n.slice(0,3)?".".concat(n.slice(1)):n,e.scrollTo(e=>{TweenMax.to(window,1,{scrollTo:{y:e-59,autoKill:!0},ease:Cubic.easeOut})}),a.length>0&&(t.preventDefault(),e.scrollTo(a),window.history&&window.history.pushState&&"."!==a[0]&&history.pushState("",document.title,a))},defineNavLink=(e,t)=>{const n=document.querySelector(t),a=n.children;if(a.length>0)[...a].forEach(t=>t.addEventListener("click",scrollToSection(e)));else{if(0!==a.length)throw Error("parameter not accepted.");n.addEventListener("click",scrollToSection(e))}},toggleMultiClasses=(e,t)=>{t.split(" ").forEach(t=>e.classList.toggle(t))},handleScreenSize=(e,t)=>n=>{const a=n.currentTarget.innerWidth,s=document.querySelector(".js--main-nav"),i=document.querySelector(".js--nav-icon");1200!==e&&a>=1200?(e=1200,s.style.transform="translateY(0px)",s.style.height="auto",s.classList.remove("hidden"),t.forEach(e=>e.scene.duration(e.trigger.clientHeight+2.5*Math.abs(e.scene.offset())))):1023!==e&&a>=1023&&a<1200?(e=1023,s.style.transform="translateY(0px)",s.style.height="auto",s.classList.remove("hidden"),t.forEach(e=>e.scene.duration(e.trigger.clientHeight+2*Math.abs(e.scene.offset())))):767!==e&&a>=767&&a<1023?(e=767,s.style.transform="translateY(0px)",s.style.height="auto",s.classList.remove("hidden"),t.forEach(e=>e.scene.duration(e.trigger.clientHeight+2*Math.abs(e.scene.offset())))):480!==e&&a>=480&&a<767?(e=480,s.style.transform="translateY(-200px)",s.classList.add("hidden"),i.children[0].name="menu",t.forEach(e=>e.scene.duration(e.trigger.clientHeight+2*Math.abs(e.scene.offset())))):0!==e&&a>=0&&a<480&&(e=0,s.style.transform="translateY(-200px)",s.classList.add("hidden"),i.children[0].name="menu",t.forEach(e=>e.scene.duration(e.trigger.clientHeight+2*Math.abs(e.scene.offset()))))},scrollAnimationFade=(e,t,n)=>{const a=document.querySelector(t);return{scene:new ScrollMagic.Scene({triggerElement:a,triggerHook:.5,offset:-n}).on("add",e=>{a.classList.add("animate__animated")}).on("enter",e=>{a.classList.add("animate__fadeIn"),a.classList.remove("animate__fadeOut")}).on("leave",e=>{a.classList.add("animate__fadeOut"),a.classList.remove("animate__fadeIn")}).addTo(e),trigger:a}},scrollAnimationSlide=(e,t)=>{const n=document.querySelector(t);new ScrollMagic.Scene({triggerElement:n,triggerHook:.6,offset:-120}).on("add",e=>{n.classList.add("animate__animated")}).on("enter",e=>{"DURING"===e.state&&(n.classList.remove("animate__fadeOutLeft"),n.classList.add("animate__fadeInUp"),e.currentTarget.offset(-230))}).on("leave",e=>{"BEFORE"===e.state&&"REVERSE"===e.scrollDirection&&(n.classList.remove("animate__fadeInUp"),n.classList.add("animate__fadeOutLeft"),e.currentTarget.offset(-120))}).addTo(e)},scrollAnimationPulse=(e,t)=>{const n=document.querySelector(t);new ScrollMagic.Scene({triggerElement:n,triggerHook:.38,offset:-70}).on("add",e=>{n.classList.add("animate__animated")}).on("enter",e=>{"DURING"===e.state&&n.classList.add("animate__pulse")}).on("leave",e=>{"BEFORE"===e.state&&"REVERSE"===e.scrollDirection&&n.classList.remove("animate__pulse")}).addTo(e)},slideMenu=(e,t)=>{const n=document.querySelector(e);n.classList.add("hidden"),document.querySelector(t).addEventListener("click",e=>{if(e.preventDefault(),n.classList.contains("hidden")){n.classList.toggle("hidden"),e.currentTarget.children[0].name="close",n.style.height="auto";const t=n.clientHeight+"px";n.style.height="0px",setTimeout(()=>{n.style.transform="translateY(0px)",n.style.height=t},0)}else e.currentTarget.children[0].name="menu",n.style.transform="translateY(-200px)",n.style.height="0px",n.addEventListener("transitionend",()=>{n.classList.toggle("hidden")},{once:!0})})},main=()=>{let e=window.innerWidth;const t=[],n=new ScrollMagic.Controller;pinNav(n),defineNavLink(n,".js--scroll-to-plan"),defineNavLink(n,".js--scroll-to-start"),defineNavLink(n,".js--main-nav"),slideMenu(".js--main-nav",".js--nav-icon"),t.push(scrollAnimationFade(n,".js--wp-1",150)),scrollAnimationSlide(n,".js--wp-2"),t.push(scrollAnimationFade(n,".js--wp-3",80)),scrollAnimationPulse(n,".js--wp-4"),window.addEventListener("load",handleScreenSize(e,t)),window.addEventListener("resize",handleScreenSize(e,t))};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?main():document.addEventListener("DOMContentLoaded",main);